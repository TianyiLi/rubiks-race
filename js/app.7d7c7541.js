(function(e){function t(t){for(var i,s,c=t[0],a=t[1],l=t[2],d=0,h=[];d<c.length;d++)s=c[d],o[s]&&h.push(o[s][0]),o[s]=0;for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i]);u&&u(t);while(h.length)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(i=!1)}i&&(r.splice(t--,1),e=s(s.s=n[0]))}return e}var i={},o={app:0},r=[];function s(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=i,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(n,i,function(t){return e[t]}.bind(null,i));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=a;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var i=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("h1",[e._v("Rubic's race!")]),n("div",{staticClass:"setting"},[e.isStart?e._e():n("div",[n("label",{attrs:{for:"size"}},[e._v("size: ")]),n("select",{directives:[{name:"model",rawName:"v-model.number",value:e.size,expression:"size",modifiers:{number:!0}}],attrs:{id:"size"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(t){var n="_value"in t?t._value:t.value;return e._n(n)});e.size=t.target.multiple?n:n[0]}}},[n("option",{domProps:{value:4}},[e._v("4")]),n("option",{domProps:{value:5}},[e._v("5")]),n("option",{domProps:{value:6}},[e._v("6")])])]),n("div",{staticClass:"button-line"},[e.isStart?e._e():n("button",{on:{click:e.start}},[e._v("start")]),e.isStart?n("button",{on:{click:function(t){e.isStart=!1}}},[e._v("restart")]):e._e()])]),e.isStart?n("div",{staticClass:"blocks-ctn answer"},e._l(e.answer(),function(t,i){return n("div",{key:t.id,staticClass:"block",style:{order:i,backgroundColor:t.color,height:150/(e.size-2)+"px",width:150/(e.size-2)+"px"}})}),0):e._e(),e.isStart?n("div",{staticClass:"blocks-ctn"},[n("div",{staticClass:"answer-ring",style:e.answerRingStyle}),e._l(e.block(),function(t,i){return n("div",{key:t.id,staticClass:"block",style:{order:i,backgroundColor:t.color,height:e.blockSize/e.size+"px",width:e.blockSize/e.size+"px",cursor:e.canMove()?"pointer":"initial"},on:{click:function(t){return e.clickToMove(i)}}})})],2):e._e(),e.isStart&&e.isFinish()?n("div",{staticClass:"finish"},[n("div",{staticClass:"line",on:{click:function(t){return e.reset()}}},[e._v("Success"),n("br"),e._v("You spend "+e._s(e.getTotalTime())+" seconds"),n("br"),e._v("click to resetart")]),n("div",{staticClass:"background"})]):e._e()])},r=[],s=(n("a481"),n("4917"),n("20d6"),n("0a0d")),c=n.n(s),a=(n("ac6a"),n("774e")),l=n.n(a),u=n("d225"),d=n("b0b4"),h={Number:"GAME_MODE_NUMBER",Color:"GAME_MODE_COLOR"};function v(e){var t,n=e.length;while(0!==n){t=~~(Math.random()*n),n-=1;var i=[e[t],e[n]];e[n]=i[0],e[t]=i[1]}}var f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(u["a"])(this,e),this.colors=t,this.size=4,this.mode=h.Color,this.blocks=[],this.answer=[],this.isEnd=!1,this.startTime=0,this.endTime=0}return Object(d["a"])(e,[{key:"reset",value:function(){this.isEnd=!1,this.size=4;while(this.blocks.pop());while(this.answer.pop());}},{key:"setSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.size=e}},{key:"setMode",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h.Number;this.mode=e}},{key:"createBlocks",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size,n=Math.pow(t,2),i=l()({length:n}).map(function(n,i){return{id:i+1,color:e.colors[i%t]||"transparent",text:i+1}});return i}},{key:"createAnswer",value:function(){var e=this,t=this.createBlocks();v(t),t.forEach(function(e,t){return e.verifyKey=t}),this.answer=t.filter(function(n,i){return i%e.size!==0&&i%e.size!==e.size-1&&(!(i>=0&&i<e.size)&&!(i<=t.length-1&&i>=t.length-e.size+1))})}},{key:"start",value:function(){this.blocks=this.createBlocks(),this.blocks[this.blocks.length-1].color="transparent",this.blocks[this.blocks.length-1].text=" ",v(this.blocks),this.startTime=c()(),this.createAnswer()}},{key:"move",value:function(e){var t=this,n=this.blocks.findIndex(function(e){return e.id===t.controlBlockId}),i=-1;switch(e){case"down":i=n-this.size,i<0&&(i=n);break;case"up":i=n+this.size,i>Math.pow(this.size,2)&&(i=n);break;case"right":i=n%this.size===0?n:n-1;break;case"left":i=n%this.size===this.size-1?n:n+1;break;default:return!1}if(n===i)return!1;if(this.blocks[n]&&this.blocks[i]){var o=[this.blocks[i],this.blocks[n]];return this.blocks[n]=o[0],this.blocks[i]=o[1],this.validation(),!0}return!1}},{key:"canMove",value:function(e){var t=this,n=this.blocks.findIndex(function(e){return e.id===t.controlBlockId});return e-this.size===n?"up":e+this.size===n?"down":e+1===n?"right":e-1===n&&"left"}},{key:"validation",value:function(){var e=this;return!(!this.answer.length||!this.blocks.length)&&(this.isEnd=this.answer.every(function(t){return e.blocks[t.verifyKey].color===t.color||e.blocks[t.verifyKey].id===t.id}),this.isEnd&&(this.endTime=c()()),this.isEnd)}},{key:"controlBlockId",get:function(){return Math.pow(this.size,2)}}]),e}(),p={RubicsGameCore:f,GameMode:h},b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"background"},[n("div",{staticClass:"modal"},[n("ul",[0===e.currentStep?n("li",[n("section",[n("h3",[e._v("Set up the size")]),n("p",[e._v("chose the size you want")]),n("p",[n("label",{attrs:{for:""}},[e._v("\n              size\n              "),n("select",{attrs:{disabled:""},on:{click:function(t){return e.nextStep()}}},[n("option",{attrs:{value:"4"}},[e._v("4")]),n("option",{attrs:{value:"5"}},[e._v("5")]),n("option",{attrs:{value:"6"}},[e._v("6")])])])])])]):e._e(),1===e.currentStep?n("li",[n("section",[n("h3",[e._v("Use arrow key or mouse click to control the block moving")]),n("section",[n("button",{on:{click:e.nextStep}},[e._v("next")]),n("div",{staticClass:"blocks-ctn",staticStyle:{height:"300px",width:"300px"}},e._l(e.block(),function(t,i){return n("div",{key:t.id,staticClass:"block",style:{order:i,backgroundColor:t.color,height:40/e.size+"px",width:40/e.size+"px"},on:{click:function(t){return e.clickToMove(i)}}})}),0)])])]):e._e(),2===e.currentStep?n("li",[n("section",[n("h3",[e._v("Check the answer blocks(left side), make sure the blocks which in the gray border area is as same as the answer")]),n("button",{on:{click:function(t){return e.$emit("end")}}},[e._v("OK, I got it")])])]):e._e()])])])},k=[],m=new p.RubicsGameCore(["red","blue","white","orange","yellow","green"]),y={data:function(){return{isShow:!1,currentStep:0}},computed:{blocks:function(){return m.blocks}},destroyed:function(){document.removeEventListener("keydown",this.move)},created:function(){m.setSzie(3),m.setMode("GAME_MODE_COLOR"),m.start(),document.addEventListener("keydown",this.move),this.$forceUpdate()},methods:{nextStep:function(){this.currentStep+=1},move:function(e){var t=e.key,n=void 0===t?"":t,i=n.replace("Arrow","").toLowerCase();m.move(i),this.$forceUpdate()},clickToMove:function(e){var t=m.canMove(e);t&&this.move({key:t})}}},g=y,w=(n("ed6b"),n("2877")),_=Object(w["a"])(g,b,k,!1,null,"5bee9166",null),z=_.exports,S=new p.RubicsGameCore(["red","blue","white","orange","yellow","green"]),x={name:"app",components:{intro:z},data:function(){return{size:4,mode:p.GameMode.Color,isStart:!1,introIsShow:!1}},destroyed:function(){document.removeEventListener("keydown",this.move)},computed:{blockSize:{get:function(){return+getComputedStyle(document.documentElement).getPropertyValue("--blocks-ctn-size").match(/\d+/)[0]},set:function(e){var t=+e;document.documentElement.style.setProperty("--blocks-ctn-size",t+"px")}},answerRingStyle:function(){var e=+getComputedStyle(document.documentElement).getPropertyValue("--blocks-ctn-size").match(/\d+/)[0],t={top:e/this.size+"px",left:e/this.size+"px",width:e-e/this.size*2+"px",height:e-e/this.size*2+"px"};return console.log(t),t}},methods:{answer:function(){return S.answer},getTotalTime:function(){return~~(S.endTime-S.startTime)/1e3},block:function(){return S.blocks},reset:function(){S.reset(),this.size=S.size,this.isStart=!1,this.$forceUpdate(),document.removeEventListener("keydown",this.move)},isFinish:function(){return!!this.isStart&&S.validation()},start:function(){S.setSize(this.size),S.setMode(this.mode),S.start(),this.isStart=!0,console.log(S.blocks.map(function(e){return e.color})),document.addEventListener("keydown",this.move),this.$forceUpdate()},move:function(e){var t=e.key,n=void 0===t?"":t;console.log(n);var i=n.replace("Arrow","").toLowerCase();S.move(i),this.$forceUpdate()},clickToMove:function(e){var t=S.canMove(e);console.log(t),t&&this.move({key:t})},canMove:function(e){return!!S.canMove(e)}}},C=x,M=(n("7faf"),Object(w["a"])(C,o,r,!1,null,null,null)),E=M.exports,O=n("2f62");i["a"].use(O["a"]);var T=new O["a"].Store({state:{},mutations:{},actions:{}});i["a"].config.productionTip=!1,new i["a"]({store:T,render:function(e){return e(E)}}).$mount("#app")},"7faf":function(e,t,n){"use strict";var i=n("8fba"),o=n.n(i);o.a},"8fba":function(e,t,n){},9715:function(e,t,n){},ed6b:function(e,t,n){"use strict";var i=n("9715"),o=n.n(i);o.a}});
//# sourceMappingURL=app.7d7c7541.js.map