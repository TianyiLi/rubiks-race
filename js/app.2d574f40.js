(function(t){function e(e){for(var n,o,a=e[0],c=e[1],l=e[2],h=0,d=[];h<a.length;h++)o=a[h],s[o]&&d.push(s[o][0]),s[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);u&&u(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var c=i[a];0!==s[c]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="https://tianyili.github.io/rubiks-race/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var l=0;l<a.length;l++)e(a[l]);var u=c;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"setting"},[t.isStart?t._e():i("div",[i("label",{attrs:{for:"size"}},[t._v("size: ")]),i("select",{directives:[{name:"model",rawName:"v-model.number",value:t.size,expression:"size",modifiers:{number:!0}}],attrs:{id:"size"},on:{change:function(e){var i=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(e){var i="_value"in e?e._value:e.value;return t._n(i)});t.size=e.target.multiple?i:i[0]}}},[i("option",{domProps:{value:4}},[t._v("4")]),i("option",{domProps:{value:5}},[t._v("5")]),i("option",{domProps:{value:6}},[t._v("6")])])]),t.isStart?t._e():i("button",{on:{click:t.start}},[t._v("start")]),t.isStart?i("button",{on:{click:function(e){t.isStart=!1}}},[t._v("restart")]):t._e()]),t.isStart?i("div",{staticClass:"blocks-ctn answer"},t._l(t.answer(),function(e,n){return i("div",{key:e.id,staticClass:"block",style:{order:n,backgroundColor:e.color,height:150/(t.size-2)+"px",width:150/(t.size-2)+"px"}})}),0):t._e(),t.isStart?i("div",{staticClass:"blocks-ctn"},[i("div",{staticClass:"answer-ring",style:t.answerRingStyle}),t._l(t.block(),function(e,n){return i("div",{key:e.id,staticClass:"block",style:{order:n,backgroundColor:e.color,height:t.blockSize/t.size+"px",width:t.blockSize/t.size+"px"}})})],2):t._e(),t.isStart&&t.isFinish()?i("div",{staticClass:"finish"},[i("div",{staticClass:"line",on:{click:function(e){return t.reset()}}},[t._v("Success"),i("br"),t._v("You spend "+t._s(t.getTotalTime())+" seconds"),i("br"),t._v("click to resetart")]),i("div",{staticClass:"background"})]):t._e()])},r=[],o=(i("a481"),i("4917"),i("20d6"),i("0a0d")),a=i.n(o),c=(i("ac6a"),i("774e")),l=i.n(c),u=i("d225"),h=i("b0b4"),d={Number:"GAME_MODE_NUMBER",Color:"GAME_MODE_COLOR"};function f(t){var e,i=t.length;while(0!==i){e=~~(Math.random()*i),i-=1;var n=[t[e],t[i]];t[i]=n[0],t[e]=n[1]}}var v=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Object(u["a"])(this,t),this.colors=e,this.size=4,this.mode=d.Color,this.blocks=[],this.answer=[],this.isEnd=!1,this.startTime=0,this.endTime=0}return Object(h["a"])(t,[{key:"reset",value:function(){this.isEnd=!1,this.size=4;while(this.blocks.pop());while(this.answer.pop());}},{key:"setSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4;this.size=t}},{key:"setMode",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.Number;this.mode=t}},{key:"createBlocks",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.size,i=Math.pow(e,2),n=l()({length:i}).map(function(i,n){return{id:n+1,color:t.colors[n%e]||"transparent",text:n+1}});return n}},{key:"createAnswer",value:function(){var t=this,e=this.createBlocks();f(e),e.forEach(function(t,e){return t.verifyKey=e}),this.answer=e.filter(function(i,n){return n%t.size!==0&&n%t.size!==t.size-1&&(!(n>=0&&n<t.size)&&!(n<=e.length-1&&n>=e.length-t.size+1))})}},{key:"start",value:function(){this.blocks=this.createBlocks(),this.blocks[this.blocks.length-1].color="transparent",this.blocks[this.blocks.length-1].text=" ",f(this.blocks),this.startTime=a()(),this.createAnswer()}},{key:"move",value:function(t){var e=this,i=this.blocks.findIndex(function(t){return t.id===e.controlBlockId}),n=-1;switch(t){case"down":n=i-this.size,n<0&&(n=i);break;case"up":n=i+this.size,n>Math.pow(this.size,2)&&(n=i);break;case"right":n=i%this.size===0?i:i-1;break;case"left":n=i%this.size===this.size-1?i:i+1;break;default:return!1}if(i===n)return!1;if(this.blocks[i]&&this.blocks[n]){var s=[this.blocks[n],this.blocks[i]];return this.blocks[i]=s[0],this.blocks[n]=s[1],this.validation(),!0}return!1}},{key:"validation",value:function(){var t=this;return!(!this.answer.length||!this.blocks.length)&&(this.isEnd=this.answer.every(function(e){return t.blocks[e.verifyKey].color===e.color||t.blocks[e.verifyKey].id===e.id}),this.isEnd&&(this.endTime=a()()),this.isEnd)}},{key:"controlBlockId",get:function(){return Math.pow(this.size,2)}}]),t}(),p={RubicsGameCore:v,GameMode:d},b=new p.RubicsGameCore(["red","blue","white","orange","yellow","green"]),m={name:"app",data:function(){return{size:4,mode:p.GameMode.Color,isStart:!1}},destroyed:function(){document.removeEventListener("keydown",this.move)},computed:{blockSize:{get:function(){return+getComputedStyle(document.documentElement).getPropertyValue("--blocks-ctn-size").match(/\d+/)[0]},set:function(t){var e=+t;document.documentElement.style.setProperty("--blocks-ctn-size",e+"px")}},answerRingStyle:function(){var t=+getComputedStyle(document.documentElement).getPropertyValue("--blocks-ctn-size").match(/\d+/)[0],e={top:t/this.size+"px",left:t/this.size+"px",width:t-t/this.size*2+"px",height:t-t/this.size*2+"px"};return console.log(e),e}},methods:{answer:function(){return b.answer},getTotalTime:function(){return~~(b.endTime-b.startTime)/1e3},block:function(){return b.blocks},reset:function(){b.reset(),this.size=b.size,this.isStart=!1,this.$forceUpdate(),document.removeEventListener("keydown",this.move)},isFinish:function(){return!!this.isStart&&b.validation()},start:function(){b.setSize(this.size),b.setMode(this.mode),b.start(),this.isStart=!0,console.log(b.blocks.map(function(t){return t.color})),document.addEventListener("keydown",this.move),this.$forceUpdate()},move:function(t){var e=t.key,i=void 0===e?"":e;console.log(i);var n=i.replace("Arrow","").toLowerCase();b.move(n),this.$forceUpdate()}}},k=m,y=(i("7faf"),i("2877")),g=Object(y["a"])(k,s,r,!1,null,null,null),w=g.exports,z=i("2f62");n["a"].use(z["a"]);var _=new z["a"].Store({state:{},mutations:{},actions:{}});n["a"].config.productionTip=!1,new n["a"]({store:_,render:function(t){return t(w)}}).$mount("#app")},"7faf":function(t,e,i){"use strict";var n=i("8fba"),s=i.n(n);s.a},"8fba":function(t,e,i){}});
//# sourceMappingURL=app.2d574f40.js.map